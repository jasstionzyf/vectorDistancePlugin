package org.elasticsearch.plugin;

import com.google.common.collect.Lists;
import org.apache.commons.math3.ml.distance.DistanceMeasure;
import org.elasticsearch.common.Nullable;
import org.elasticsearch.plugin.vcd.distance.DistanceMeasureFactory;
import org.elasticsearch.plugins.Plugin;
import org.elasticsearch.script.AbstractDoubleSearchScript;
import org.elasticsearch.script.ExecutableScript;
import org.elasticsearch.script.NativeScriptFactory;
import org.elasticsearch.script.ScriptModule;

import java.util.Map;

/**
 * Created by jasstion on 13/03/2017.
 */
public class VectorDistanceComputePlugin extends Plugin {
  @Override public String name() {
    return "vectors-distance-compute";
  }

  @Override public String description() {
    return "compute vectors distance";
  }

  public void onModule(ScriptModule scriptModule) {
    scriptModule.registerScript("vectors_distance", VectorDistanceScriptFactory.class);
  }

  public static class VectorDistanceScriptFactory implements NativeScriptFactory {
    @Override public ExecutableScript newScript(@Nullable Map<String, Object> params) {
      return new VectorDistanceScript(params);
    }

    @Override public boolean needsScores() {
      return false;
    }
  }

  public static class VectorDistanceScript extends AbstractDoubleSearchScript {
    String comparedVecStr=null;
    String vecStrFieldName=null;
    String distanceType=null;

    public VectorDistanceScript(Map<String, Object> params) {
      comparedVecStr=(String)params.get("vecStr");
      vecStrFieldName=(String)params.get("vecStrFieldName");
      distanceType=(String)params.get("distanceType");

    }

    @Override public double runAsDouble() {

      Double distance=100000d;
      DistanceMeasure distanceMeasure=DistanceMeasureFactory.createDistanceMeasure(distanceType);
      try {
        String vec2Str = (String) source().get(vecStrFieldName);
        double[] vec1 = Lists.newArrayList(comparedVecStr.split(",")).parallelStream().mapToDouble(va -> Double.parseDouble(va)).toArray();
        double[] vec2 = Lists.newArrayList(vec2Str.split(",")).parallelStream().mapToDouble(
                va -> Double.parseDouble(va)).toArray();

        distance = distanceMeasure.compute(vec1, vec2);
      }catch (Exception e){
        //do nothing
      }

      return distance;
    }
  }

  public static void main(String[] args){
    String comparedVecStr="0.121616,0.147185,0.785839,1.04561,0.39295,0.230071,0.0801087,0.333302,0.375265,0.613465,0.376432,0.342599,0.132149,0.820591,1.05003,0.165355,0.153741,0.332082,0.440499,0.356396,0.339572,0.0800672,0.228759,0.50924,0.153924,0.375247,0.414032,0.45825,0.342601,0.693919,0.143457,0.704372,0.455656,0.80625,1.0396,0.850314,0.110662,0.628294,0.424076,0.221794,0.742862,0.289962,0.977045,0.63704,0.891749,0.371359,0.250847,0.252642,0.59593,0.663428,0.258315,0.974756,0.276381,0.542716,0.287207,0.386212,0.906707,0.336171,0.298699,0.451406,0.872673,0.464501,0.517541,0.167263,0.40141,0.85478,0.532478,0.0799754,0.0220225,0.19899,0.130397,0.11468,0.207583,0.348959,0.391559,0.187848,0.251903,0.117249,0.512231,0.216574,0.60841,0.109497,0.320749,0.277622,0.52517,0.386871,0.489216,0.292983,0.628014,0.68479,0.121653,0.350152,0.828194,0.242713,0.947297,0.164008,0.324184,0.444557,0.353845,0.541814,0.24443,0.0766634,0.489729,0.315029,0.869209,0.585824,0.858255,0.144555,0.392549,0.465191,0.246493,0.296666,0.461955,0.193607,0.753698,0.156964,0.442658,0.35029,0.336206,0.665179,0.133304,0.673996,0.361769,0.605153,0.272775,0.201033,0.211006,0.295447,0.309293,0.342541,0.503346,0.30463,0.480346,0.0883683,0.335652,0.684148,0.339328,0.294958,0.592738,0.715273,0.247827,0.231095,0.486082,0.670988,0.0695264,0.166275,0.196471,0.720624,0.617619,0.375632,0.252856,0.0815204,0.119499,1.13244,0.991986,0.639357,0.551127,0.687404,1.40066,0.515056,0.464107,0.334483,0.387818,0.697423,0.363273,0.601391,0.186714,0.597294,0.355583,0.311577,0.159149,0.518071,0.514897,0.263479,0.761256,0.618961,0.305552,0.250084,0.19165,0.251012,0.114676,1.27599,0.0213547,0.521598,0.239475,0.255903,0.763653,0.194792,0.46026,0.420882,0.507369,0.566578,0.63623,0.544907,0.0950357,0.171287,0.0403939,0.400681,0.24911,0.66111,0.289548,0.280752,0.253771,0.25589,0.148495,1.00914,0.775811,0.340245,0.323328,0.697008,0.369042,0.0717104,0.305669,0.389434,0.700997,0.134138,0.361209,1.31131,0.507661,0.34596,0.00677569,0.532398,0.599891,0.395891,0.439537,0.245737,0.478458,0.706333,0.381544,0.102857,1.01009,0.175559,0.834554,0.285398,0.848883,0.351717,0.0982401,0.0659123,0.279744,0.579009,0.00174434,0.135858,0.661418,0.689297,0.451856,0.78634,0.67233,0.166023,0.578162,0.104313,0.830007,0.253985,0.535276,0.355153,0.14926,0.54385,0.303302,0.220529,0.47776,0.166891,0.158304,0.883474,0.785499,0.499497,0.45492,0.2517,0.599119,0.851465,0.648153,0.543425,0.464618,0.345775,0.870993,0.020433,0.328457,0.168539,0.386371,0.840322,0.561108,0.93676,0.12543,0.425454,0.279449,0.866144,0.52785,0.449631,0.072851,0.187702,0.154337,0.0646317,0.406558,1.08279,0.116453,0.469844,0.117222,0.253728,0.296214,0.0746907,0.144905,0.0902022,0.535754,0.557923,0.471934,0.101454,0.508602,1.01402,1.4852,0.476649,0.171515,0.60871,0.311015,0.188889,0.244652,0.712781,0.305796,0.40482,0.396526,0.508694,0.4808,1.20257,0.795659,0.642339,0.507702,0.364125,0.456437,0.452054,0.583953,0.245257,0.192093,0.695337,1.47722,0.393583,0.213777,1.00027,0.111067,1.00896,0.281699,0.31122,0.643007,0.383453,0.861226,0.930508,1.53911,0.59045,0.480439,0.351779,0.0786513,0.726226,0.226565,0.312658,0.652049,0.272695,0.378155,0.174936,0.411834,0.191835,1.29159,0.384732,0.316589,1.1374,0.282464,0.511794,0.524429,1.24731,0.108345,0.460263,1.88235,0.328241,0.5268,0.324582,0.176445,0.337296,0.58481,1.53912,0.655728,0.317737,0.387382,0.322898,0.441014,0.356106,0.053265,0.193288,1.16949,0.406775,0.31041,0.682685,0.594242,0.525846,0.0903261,0.256685,0.292201,0.114719,0.622284,0.31457,0.680347,0.364058,0.203091,0.403411,0.143895,0.176777,0.560778,0.0475311,0.263092,0.596842,0.180531,0.702597,0.910845,0.241846,0.0798003,0.49235,0.107351,0.17048,2.25775,1.3483,0.214536,0.529759,0.101179,0.450803,0.864556,1.14082,0.891611,0.526265,1.08033,0.200677,2.23856,0.399695,0.404478,0.710377,0.232458,0.256014,0.747103,1.39696,0.0766733,0.79374,0.661302,1.26048,1.08442,0.375165,0.0520888,1.48675,0.431979,0.314463,0.113485,0.0954219,0.102522,0.448179,0.0312321,0.0915733,1.19381,0.379349,0.230387,0.66762,0.132025,0.494405,0.463503,1.63119,0.544287,0.843468,0.902418,0.891119,0.707099,0.693462,0.466941,0.327237,1.22497,1.36392,0.541239,0.977767,0.243507,0.275831,0.779979,0.301579,0.789966,1.55786,0.572511,0.466084,0.165305,1.13982,0.902956,0.43157,0.411545,1.38263,0.329461,0.395821,0.209663,0.419832,0.0747484,0.651323,0.21811,0.193004,0.218508,0.564555,0.964017,0.56738,0.876606,0.55695,0.207396,0.657554,0.0257555,0.416409,0.173107,0.087379,0.508092,0.265438,0.820906,0.644286,0.294764,0.0337572,0.733328,1.40523,0.446721,0.69961,0.631886,0.695925,0.343882,1.44436,0.100561,0.15585,0.334525,0.406696,0.413584,1.5101,0.93038,1.40545,0.500633,0.300972,0.62123,0.420768,0.720607,0.463027,0.380307,0.291198,0.332639,0.378942,0.131717,0.195726,1.4112,0.313336,0.260889,0.898841,0.2706,0.303678,0.898913,0.0479353,0.400665,0.82292,0.488703,1.29853,0.121075,0.526193,1.26048,0.589804,0.535409,0.294959,0.32107,0.834298,0.497796,0.0858172,0.70851,0.21805,0.959112,1.21627,0.243984,1.09607,0.781337,0.415787,0.501585,0.397847,0.531418,0.237194,0.883908,0.268844,0.121391,0.777401,1.20865,0.396768,0.662425,1.94762,0.796782,1.90366,0.309982,1.39115,0.770523,0.238535,0.440728,0.204173,0.273726,0.539739,0.265854,0.0779462,0.375077,0.509677,0.315159,0.360406,0.360598,0.906904,0.553579,1.09633,0.834644,0.455612,1.34649,0.413943,0.626521,1.56184,0.584328,0.33013,0.584983,0.562608,0.40681,0.287382,1.33411,0.113107,1.25098,1.15708,0.837082,0.443419,0.405663,0.808001,0.787797,0.69339,0.35318,1.17088,0.446313,0.400273,0.316774,0.849966,0.21195,0.729147,0.43394,0.277699,0.941153,0.601654,0.708128,0.503689,0.601726,1.44219,0.604509,0.352889,0.755377,0.964029,0.82974,0.99699,0.274861,0.603627,0.539654,0.85413,0.129574,0.270426,1.25614,0.521043,0.39525,0.164725,0.430653,0.968316,0.634111,0.216678,0.492085,1.0813,0.290251,0.135427,0.888279,0.797233,0.56849,0.202252,0.89327,0.523874,0.131926,0.51592,0.215566,0.485197,0.286617,0.265088,0.408835,0.601646,0.93501,0.420972,1.59598,0.449348,0.367747,0.353249,0.521607,1.51085,1.10787,0.126292,0.576205,0.439924,0.294801,0.389235,0.315888,0.144194,0.583295,0.978935,0.59149,0.748478,0.756194,0.260638,0.00919348,0.580941,1.34473,0.0773844,0.108043,1.93122,0.617774,0.48163,0.851147,0.573791,0.39255,0.502893,0.32267,0.413712,1.17691,0.714185,0.525081,0.384834,0.961958,0.271187,0.753661,0.893008,1.08998,0.526438,0.644287,0.207613,0.925681,0.227331,0.839814,0.525998,0.543421,0.59718,0.646788,1.06498,0.19841,0.722685,1.38119,0.983856,0.655048,0.227352,0.592207,1.25655,1.15875,0.285946,0.250572,1.02388,0.671626,0.396165,0.348574,0.0133378,0.67928,0.341956,0.731876,0.141969,0.831937,1.02449,0.410521,0.529333,0.151304,0.262724,0.169674,1.09016,0.329675,0.632786,0.395457,0.392458,0.605426,0.322747,0.329603,1.26894,1.65633,0.425026,1.44555,0.851421,0.435142,0.361158,0.691603,1.01959,0.315268,0.527882,0.0910432,0.454181,0.606741,0.0837388,0.722734,1.5289,0.436367,1.14286,1.53744,0.463075,0.087161,0.443111,0.380497,0.511211,0.569286,0.35661,0.836096,0.678246,0.263014,0.128266,1.58789,1.00254,0.431966,0.232756,0.269983,0.193348,0.599693,0.502753,0.550353,0.486927,0.503763,0.272946,0.621637,0.291335,0.609261,0.365248,0.610138,0.0319305,0.0715424,0.8122,0.356319,0.299902,0.32593,0.597488,1.21412,0.568157,0.51725,0.172761,0.0685154,0.8216,0.746207,0.795303,0.0738066,1.09031,0.222469,0.267911,0.353723,0.640854,0.289821,0.345989,0.570141,0.522334,0.966701,0.333787,0.855054,0.220085,0.801375,0.802694,0.278012,1.30671,0.465649,0.370998,0.653238,0.482211,0.142525,0.597866,0.553426,0.592495,1.14897,0.175337,0.215184,0.242453,0.707364,0.25499,0.450544,1.18593,0.42299,1.09957,0.245787,0.632761,1.03619,0.589631,0.315053,0.474257,0.321906,0.411071,1.07621,0.177256,0.222194,0.388648,0.81121,0.235026,0.651227,0.49885,0.392822,0.410207,0.457504,0.635861,0.492198,0.226181,1.4754,0.580675,0.512094,0.389479,0.77536,0.423781,0.550726,0.354283,0.226723,0.470106,0.655603,0.289055,0.774347,1.70615,1.41684,0.0462386,0.617075,0.940662,1.20503,0.733608,1.29101,0.441958,0.508177,0.210635,0.503526,1.23565,0.992316,0.434606,0.647059,0.74573,0.58007,0.142826,0.930417,2.42328,0.447573,0.974329,0.29525,1.65452,0.279775,0.216574,1.87044,0.965818,0.439471,0.783156,0.50432,0.207294,0.325682,0.341088,0.725857,0.362299,0.319036,0.592913,0.360823,0.469763,0.407875,0.584973,0.710978,1.24129,0.586094,0.697159,1.18364,0.38218,0.467325,0.574817,0.128602,0.259722,0.417593,0.855762,0.338603,0.370827,0.505741,0.354638,0.952895,0.775909,0.238378,0.173497,0.5077,0.341451,1.20181,0.19709,0.0725207,0.212866,0.180976,0.252063,0.911367,0.0649017,0.283847,0.963862,0.0823001,0.475858,0.941174,0.220591,0.580844,1.11836,0.26813,2.32443,0.172327,0.816398,0.845795,1.05819,1.31272,0.958003,0.289905,0.281055,0.519574,0.935793,1.75439,1.65304,0.521091,0.912683,0.398217,0.178252,0.345313,0.607793,0.280195,0.872985,0.234192,0.30015,1.11682,0.558417,0.25281,0.369092,0.367794,0.53063,0.164351,1.61063,0.818161,0.991334,0.177526,0.52961,0.410298,0.248003,0.553096,0.873814,0.693089,0.428643,1.05167,0.0341692,0.666124,0.679448,0.391066,0.49047,0.565851,0.517109,0.604109,0.36409,0.479391,0.762156,0.428563,0.910715,0.574701,0.519421,0.392847,0.53615,0.985056,0.532594,0.158576,1.13046,0.300283,0.428997,0.829575,1.08183,0.0705556,0.604148,0.0431596,0.318389,1.0695,0.0490294,0.178135,0.489752,0.462536,0.179698,0.743904,0.398276,0.20136,0.16478,0.19602,0.623055,0.197826,0.782462,0.436897,0.286586,0.336527,0.92629,0.370317,0.229546,0.5452,0.23894,0.846805,0.454982,0.153688,1.05104,0.211347,1.21057,1.12266,0.546709,0.661834,0.118869,0.47465,0.2637,0.601493,0.995209,0.456826,0.500366,0.831825,1.29396,0.86158,0.293487,0.512202,1.27532,1.33413,0.12418,0.350819,0.938521,1.37404,0.57039,0.702683,1.83307,0.474277,0.563368,0.977565,0.143748,1.09328,0.727641,2.00295,0.988259,0.768151,1.22347,0.473069,0.236299,0.261814,0.789191,0.507618,0.453131,0.306006,1.11969,0.298079,1.26583,0.826281,0.957475,0.200353,1.53483,0.568357,0.144568,0.727807,0.485321,0.112174,1.29803,1.5508,0.529415,0.863231,0.554103,0.545358,0.574853,0.425825,0.474911,0.30203,1.38894,0.912038,0.336432,0.86871,1.11397,1.27895,0.616,0.91374,0.631569,0.43735,0.183138,0.766425,0.561091,0.130902,1.20131,0.674361,1.03856,0.708855,0.254409,0.0178281,0.800391,0.35588,0.782073,1.47058,0.728234,0.852861,1.16765,0.337824,0.261361,1.22149,1.67879,0.298579,0.971074,0.13347,0.623546,0.170664,0.420685,0.923273,0.336664,0.677969,0.429845,0.587798,0.834219,1.15636,0.515844,0.98311,2.13145,0.66617,0.724437,0.598873,1.47228,1.28245,1.43343,0.810749,0.371605,0.426904,0.353367,1.60585,0.754578,0.180383,1.05939,1.5263,1.44237,0.178412,0.304491,0.054537,0.787614,0.731693,0.149958,0.143528,0.455785,0.656464,0.411691,1.99105,0.662458,1.05174,0.395629,0.832802,1.69846,0.389726,1.42329,0.842442,0.483365,0.431361,0.731818,1.01395,0.314108,0.117964,0.918109,0.601869,1.54993,1.17847,1.14122,0.991829,0.410006,1.39932,0.496998,0.152162,0.584172,0.388757,2.02718,0.451033,1.0731,0.799731,0.854324,1.11626,0.183851,0.552018,1.422,0.187182,1.1076,0.544705,2.01575,1.16193,1.1435,0.522018,0.707625,0.569647,0.44317,0.441053,1.34826,1.10257,0.186958,0.702019,0.337269,0.25515,1.36579,0.439138,0.467456,0.319676,0.373125,1.09734,0.242037,2.31322,0.00746548,1.42169,0.811095,0.913228,0.958393,0.579754,1.51318,1.21902,1.70713,0.761065,0.350439,0.14912,0.139779,0.370901,0.266918,0.727021,1.64264,0.758484,0.732542,0.327583,0.339504,0.839053,0.683846,0.0431944,0.790988,0.673954,0.924791,0.455103,1.58278,0.416495,0.644807,0.644348,1.02224,1.03307,0.604035,0.577705,0.908866,0.386402,1.40238,0.939719,1.09207,1.48115,0.363351,0.377095,0.521354,0.997834,0.17408,0.76506,0.524938,0.628545,1.18636,0.560088,0.68298,0.446051,0.841078,0.290329,0.181002,0.472131,0.153015,1.73945,0.29735,0.433715,0.598184,0.897002,0.8819,0.73137,0.658623,0.284726,1.2019,1.37208,1.11574,0.771081,0.533442,0.544486,1.30594,1.01086,1.05659,0.789569,1.02549,0.111708,0.8856,0.763536,0.66631,0.223231,0.546822,0.612832,0.796937,0.807951,1.30073,0.516749,0.633111,1.33733,2.22179,0.734907,1.21266,0.983463,0.948708,1.21089,0.573276,1.55815,0.48838,0.371928,1.07613,0.476597,1.32097,2.12112,0.27102,0.252024,1.01124,0.820897,1.41126,0.500781,0.826564,0.412149,0.595385,0.64696,1.82602,1.05194,0.47493,1.58789,0.932215,1.56707,0.826529,0.289412,1.31964,0.835331,0.436352,2.27532,0.209584,0.628739,1.60283,0.0171449,0.104289,1.4355,1.09877,0.141685,0.209813,1.78249,1.15948,0.576758,1.18124,0.537899,0.876017,0.223865,1.00991,0.818106,0.866357,0.319489,0.159882,0.409339,0.277845,0.517407,0.428835,1.33474,0.45524,0.502575,1.26726,1.43019,0.634561,0.482598,0.204459,0.665418,0.635049,0.781778,1.7534,0.407409,0.0751894,0.20621,1.71817,0.211412,0.43417,0.982827,0.324928,0.217786,0.103066,0.458986,0.0733716,0.278944,0.413056,1.39934,1.5988,0.768361,1.7106,2.49109,1.08902,0.0909262,0.0687434,0.133551,0.527778,1.17837,0.837836,0.299184,0.169515,0.69787,0.241048,0.26297,1.31474,0.895429,1.34694,1.23157,0.607398,1.32112,0.287692,0.410853,0.720668,1.86351,1.46474,0.159016,1.44517,0.356143,0.113684,0.232655,0.348043,0.107129,0.449043,0.131802,0.602964,0.148525,0.431566,0.734752,0.0231918,1.66909,0.529306,1.41769,0.608233,0.246749,0.208035,0.359361,1.60048,1.00229,0.192692,1.27184,0.633294,0.350552,0.855654,1.63277,0.93055,1.40735,0.711231,0.472047,1.00456,0.66818,1.58844,0.991139,1.123,0.150969,0.552877,1.77971,0.261293,1.30964,0.657044,1.14156,0.163544,0.107498,0.607781,0.922143,0.308161,0.620782,0.4937,0.365315,0.403505,1.70223,0.520054,0.682681,1.20862,0.431338,0.504498,0.444314,1.58465,1.11973,0.731359,1.53316,1.42912,0.49874,0.901631,0.559426,1.86852,0.427974,2.16574,1.5795,0.239372,0.415803,1.30785,0.0926768,0.183309,0.000475479,1.08807,0.132766,2.40007,0.605492,0.497004,0.528108,1.36476,0.990516,0.469881,1.2838,0.541863,0.711457,1.05424,0.442801,1.29059,0.213561,0.752553,0.815337,1.05155,0.881548,0.342299,0.813628,0.865524,0.801607,0.980728,1.43878,1.67809,0.177,1.07499,0.175427,0.896764,0.574804,0.706034,0.40213,0.193765,0.104329,0.923671,1.29251,0.578683,1.64457,0.314301,1.24959,0.804831,0.117339,0.0730023,0.347277,0.79911,0.852871,0.728544,1.51734,0.529921,0.689948,1.42141,0.596299,1.28681,0.794009,1.36483,1.70348,0.190496,0.18006,0.611218,0.826399,0.941667,0.0760707,0.201834,0.722538,0.553098,0.421151,0.173158,0.86812,0.390365,0.183291,0.680972,0.08985,0.201838,0.319508,0.720393,0.639899,0.392511,1.4544,1.2473,0.488515,0.0592332,0.421693,0.936101,2.13897,0.853009,0.938539,1.22344,0.70082,0.364825,1.32221,0.78661,0.1948,1.188,0.701558,1.25911,0.261752,0.0842606,0.087871,0.709985,0.436296,0.621667,0.720775,0.281454,1.0738,0.894367,0.797082,1.26218,0.196773,0.266135,1.34553,0.0161088,1.65825,0.818089,0.874399,0.633082,0.250758,0.657524,0.111636,0.212592,1.12762,0.319351,0.216967,0.70743,0.775833,1.65132,0.161727,0.473093,0.711607,2.25209,0.817441,0.277011,2.02594,0.0733375,0.410725,1.29226,0.634539,0.810277,0.526403,1.18177,1.08006,1.06152,1.02272,0.499948,0.825324,0.389496,0.295322,0.458138,0.768441,0.108338,0.250092,0.246351,0.996759,1.153,1.05492,0.133025,0.467577,0.86317,1.09166,0.150155,0.192745,0.240348,0.832976,1.01181,0.682709,1.59844,0.654136,0.226234,1.08934,0.663583,0.0941628,0.808049,0.348171,0.428825,0.996004,0.732379,0.612325,0.550965,0.79267,0.974723,0.685337,0.227752,0.854661,0.682132,1.10451,1.14878,0.540505,0.77745,0.450686,0.584887,0.582298,0.892249,0.351903,0.0383851,0.159384,0.103212,0.645375,2.64432,0.525917,0.429539,0.770557,0.629798,0.112811,1.6225,0.350471,0.405935,0.595236,0.676115,0.441745,0.501412,1.58327,0.996709,0.308785,0.578401,0.690717,0.261449,0.229867,0.837562,0.959455,0.917953,0.31364,0.858067,2.0555,0.894314,0.283064,0.0949197,0.607607,0.724359,0.387121,0.264831,1.28733,0.72697,0.179187,0.886006,0.527597,0.228286,0.466188,1.41992,1.28996,1.71628,0.58098,0.292567,1.16499,1.22694,1.2731,1.02132,0.449518,1.40014,0.518773,0.731133,0.0898053,0.642405,0.669739,0.360923,0.554262,1.30458,1.13803,1.08306,1.04799,0.403553,0.975315,1.22102,0.763356,0.586187,0.182513,0.101229,0.238294,0.106167,0.690387,0.589714,0.136123,0.969163,1.01685,0.214913,0.749143,0.0646931,0.255081,1.05822,0.552917,0.40554,0.456393,1.69511,0.405968,1.31982,0.657663,0.936179,0.782264,0.17304,0.272678,0.568256,0.570192,0.840428,0.32763,0.445396,1.28946,0.0619677,0.0953983,0.803051,0.0131276,1.06527,1.36206,0.82463,0.666087,0.520312,0.215439,0.986788,0.812489,0.842332,0.0853585,1.16222,1.76851,0.786304,0.617188,0.66757,0.590459,0.451265,0.512424,0.959477,0.925394,0.250455,0.123435,0.612939,0.665088,1.05849,0.624543,0.59376,0.289764,0.888692,0.436837,0.544988,1.22602,0.459974,1.42496,0.68031,0.709029,0.138787,0.0879412,0.579943,2.5594,0.149944,0.113864,0.623644,1.27918,0.088955,0.334859,0.649694,0.554249,0.780998,0.595551,1.12393,0.34114,0.620931,0.713003,0.373586,0.578036,0.24942,1.01261,0.935741,0.431718,0.749348,0.803581,0.646699,0.0641077,0.309923,0.133122,0.668234,0.301659,1.17949,0.967029,0.121313,0.769206,0.459689,0.953448,0.0882374,0.250086,0.141151,0.207552,0.389365,0.180777,1.16474,0.902767,0.354052,0.495702,1.12457,0.321739,0.123575,0.601426,0.326466,0.322983,0.195769,1.00319,1.01751,0.0865894,0.578428,1.81497,0.422078,0.721395,0.448908,0.00166955,0.147111,0.585106,0.340727,0.18215,0.745109,1.37867,0.889113,0.209444,0.888702,0.986763,0.346606,0.341164,0.322671,0.482201,0.338065,0.758402,1.15637,0.487484,0.248601,1.65977,0.490445,0.43049,0.550284,0.0296912,0.888447,0.983756,0.627815,0.732066,1.26468,0.426298,1.37801,0.901897,0.717889,1.13392,1.51527,0.912733,0.370017,0.541527,0.0383388,0.143533,0.54022,0.133593,0.803586,0.440028,0.911145,0.328863,0.530959,1.02063,0.14148,0.0896019,0.716648,1.00206,1.10975,0.427219,0.760694,0.420898,0.0232443,0.911281,1.09683,0.544548,0.0770989,0.158979,1.09016,2.02473,0.884643,0.496636,0.110558,0.913394,1.5098,0.702765,0.217738,0.501216,1.26228,1.4485,0.527847,0.295266,0.574808,0.543415,1.42217,0.116507,1.13341,0.721197,0.0893026,0.534375,0.482219";
    String vec2Str="0.607771,0.51247,0.421311,0.920226,0.261979,0.360574,0.533144,0.344316,0.357405,0.117615,0.704503,0.149404,0.169227,0.125054,0.451294,0.969295,0.300256,0.332428,0.365717,0.407719,0.321229,0.428651,0.385292,0.374446,0.184741,0.263436,0.6098,0.317228,0.0537753,0.279566,0.674062,0.225508,0.0791732,0.326517,0.416111,0.206859,0.0835289,0.310393,0.222462,0.403442,0.35114,0.586455,0.546727,0.502703,0.616138,0.440487,0.223991,0.22783,0.387979,0.213,0.515811,0.645679,0.144778,0.154607,0.233936,0.827931,1.22328,0.184828,0.196159,0.482886,0.36937,0.59343,0.398309,0.517488,0.370838,0.406084,0.368488,0.214629,0.314337,0.405034,0.651002,0.283657,1.26617,0.27622,0.271361,0.408804,0.387491,0.339769,0.302288,0.82688,0.613501,0.0719977,0.239214,0.374307,1.08268,0.656212,0.495114,0.132645,0.323461,0.180581,0.269833,0.04091,0.813108,0.36699,0.611484,0.253151,0.39075,0.300175,0.0814423,0.680006,0.906366,0.184152,0.189551,0.28574,0.0392994,0.4535,0.390724,0.741404,0.311271,0.244179,0.6181,0.146078,0.129891,0.490781,0.208998,0.806793,0.235553,0.419031,0.611882,0.273512,0.0804546,0.544292,0.692748,1.03531,0.288919,0.346265,0.144787,0.0483692,0.292022,0.0769235,0.507684,0.329991,0.285339,0.244229,0.274953,0.472245,0.258673,0.183932,0.222196,0.548422,0.297491,0.117732,0.452701,0.41034,0.152574,0.115863,0.379894,1.25826,0.402084,0.151278,0.271744,0.251668,0.124155,0.16474,0.595626,0.269053,0.274243,0.178944,0.31623,0.478961,0.516705,0.0966265,0.690214,0.509088,0.435311,0.212221,0.43252,0.264654,0.141943,0.378813,0.400705,0.318884,0.699181,0.579761,0.34417,0.0586179,0.601374,0.314818,0.240429,0.0647431,1.16402,0.446354,0.330397,0.183238,0.324746,0.249167,0.471798,0.738393,0.360676,0.51332,0.319293,0.251099,0.582388,0.424899,0.606502,0.0230092,0.121089,0.676874,0.610493,0.209518,0.802963,0.173341,0.191703,0.205084,0.243802,1.13757,0.643468,0.210375,0.527174,0.438996,0.312957,0.546018,1.08593,0.0886003,0.699566,0.273604,0.704496,0.277343,0.491541,1.39735,0.10779,0.5495,0.687583,0.582277,0.258904,0.285385,0.57027,0.175709,0.191109,0.134492,0.66941,0.396521,1.16983,0.181116,0.210535,0.516929,0.816071,0.475407,0.483902,0.176195,0.108576,0.297103,0.215729,0.162331,1.01903,0.222285,0.271092,0.784582,0.983248,0.141531,0.393358,0.194413,0.456148,0.26608,0.0225574,0.617658,0.316456,0.469557,0.069706,0.178514,0.445779,0.26741,0.863412,0.468789,0.209434,0.539341,0.375339,0.754277,0.467985,0.555628,0.329893,0.162006,0.519572,0.44745,0.52585,0.166709,0.132546,0.113356,0.503092,0.415775,0.459464,0.331239,0.286856,0.333176,0.163492,0.624288,0.197513,0.126774,0.180744,0.465887,1.00379,0.781073,0.250302,0.151266,0.532093,0.499479,0.574125,1.00265,0.0605402,0.813313,0.379949,0.114079,0.438798,0.604852,0.505987,0.203796,0.999028,0.319478,0.178508,0.121642,0.523577,0.353796,0.412752,0.65399,0.545859,0.196497,0.203101,0.389915,0.635834,0.205007,0.127881,0.509269,0.231291,0.236905,0.223148,0.310526,0.329694,0.191331,0.312157,0.625752,0.876386,0.253767,0.112083,0.289604,0.0484257,0.811755,0.186613,0.814072,0.433272,0.298546,0.322531,0.21157,0.722942,0.0682435,0.216861,0.390287,0.340381,0.188939,0.844158,0.355067,0.380626,0.340183,0.676954,0.400228,0.266516,0.681508,0.194169,0.0948916,0.157842,0.189923,0.422525,0.213128,0.652147,0.20471,0.353945,0.488217,0.611099,0.742187,0.098313,0.104814,0.376387,0.821084,0.935523,0.410935,0.734905,0.407534,0.320803,0.863628,0.532719,0.373141,0.150914,0.359635,0.232214,0.515822,0.708164,0.370858,0.271914,0.222895,0.200088,0.820843,0.46953,0.0733987,0.124132,0.128929,0.582579,1.22568,0.841986,0.347453,0.134196,0.131656,0.609674,0.300694,0.0917404,0.80808,0.641315,0.431298,0.387704,0.439501,0.218521,0.558694,0.286002,0.131744,0.263613,0.82439,0.209784,0.309008,0.207609,0.193708,0.562917,0.665986,0.697645,0.0202113,0.872493,0.358454,0.0367953,0.276903,0.353433,0.603752,0.465365,0.623354,0.594145,0.489109,0.218392,0.467923,0.38857,0.189582,0.793221,0.321974,0.354426,0.126326,0.566805,0.429111,0.30343,0.0783938,0.278124,0.418198,0.254181,0.738342,0.43295,0.574724,0.151664,1.0021,0.292836,0.267998,0.458802,0.671157,0.910719,0.299749,0.736602,0.296838,0.514047,0.517588,0.290022,0.282575,1.01993,0.684107,0.178447,0.948765,0.459779,0.543141,0.64662,0.585223,0.443082,0.90833,0.130965,0.22394,0.377004,2.02589,0.485683,0.240762,0.403169,1.3378,0.387864,1.02529,0.376804,0.162379,1.05607,0.377286,0.0867596,0.434121,0.210071,0.462635,0.647294,0.399417,1.22485,0.162766,0.186204,0.486272,0.277823,0.236418,0.406914,0.684076,0.535598,0.360817,1.1273,0.466646,0.264393,0.127562,1.12069,0.660412,0.985298,0.446964,0.541956,0.480841,0.114638,0.694796,0.640111,0.28682,0.077284,0.832208,0.251797,0.68995,1.35539,1.05426,0.878694,0.504454,1.01427,0.691698,0.793727,0.783524,0.39336,0.30515,0.281355,0.571594,0.459252,0.305092,0.898566,0.303274,0.413614,0.248316,0.234399,0.14347,0.396445,0.324247,0.349398,0.666356,0.266674,0.635473,0.235706,0.593002,0.600824,0.724033,0.602911,0.17891,0.439999,0.349492,0.300233,0.2113,0.0609629,0.677211,1.2826,1.0951,0.916634,0.844794,0.0609917,0.332598,0.0618726,0.390851,0.359399,0.790092,0.886822,0.636162,0.696597,0.284101,0.766389,0.800537,0.365347,0.705422,0.162239,0.520699,0.474584,0.680021,0.279023,0.108085,0.673687,0.501685,0.204717,0.575381,0.157292,0.986947,0.0758233,0.236239,0.500174,0.289476,0.947978,0.415329,0.333722,0.779942,1.14133,0.305938,0.461799,0.666845,0.192309,0.443633,0.397561,0.236023,0.14908,0.886147,0.47841,0.219463,0.376605,0.21457,1.19934,0.905892,0.945951,0.534029,0.623332,0.601458,0.373086,0.0846648,0.328131,0.459145,0.592978,0.73251,0.209594,0.262529,0.764259,0.269998,0.15258,0.120168,0.213336,0.572792,0.697865,0.178553,0.493232,0.852149,0.462582,0.508084,0.410669,0.204655,0.479808,0.393079,0.293907,0.620246,0.714925,0.121315,0.325338,0.818846,0.202781,0.801726,0.37035,0.328607,0.417706,0.318862,0.163966,0.723843,0.918843,0.265707,0.430515,0.272753,0.268978,0.288297,0.166305,0.259737,0.0928817,0.218624,0.156799,0.641126,0.555834,0.501422,0.101501,0.447388,0.519188,1.17447,0.416309,0.333711,0.236344,0.592707,0.656989,0.723203,0.185001,0.710046,0.957159,0.378496,0.447981,0.382498,0.562176,0.301602,0.143556,0.689735,0.264216,0.647504,0.763274,0.584225,0.779922,0.164299,0.349806,0.606011,0.549821,0.612049,0.275619,0.729959,0.127802,0.259508,1.20521,0.557026,0.588715,0.675282,0.386714,0.547549,0.844555,0.348308,0.247256,1.07034,0.149721,0.162542,0.924051,0.73838,0.624947,1.18106,0.310142,0.429996,0.296715,1.5685,0.495578,0.1911,0.496731,0.625582,0.691549,0.708053,0.464041,0.0693394,0.362068,1.17969,0.647611,0.46233,1.08623,0.408384,0.747269,0.985167,0.228379,0.864006,0.328199,0.349372,0.43672,0.16739,0.484799,0.354722,0.434564,0.197346,1.01544,0.158523,0.703196,0.561679,0.353227,0.488092,0.252916,0.222078,0.0329582,0.436168,0.54327,0.237319,0.822378,0.303414,0.451351,0.875389,0.267175,0.462842,0.795739,0.320931,0.916974,0.229443,0.144709,1.08332,0.464016,0.514104,0.241517,0.330767,1.10592,0.0739896,0.76033,0.847351,0.660189,0.597463,1.00802,0.935535,0.444474,0.675021,0.658103,0.399689,0.351746,0.272658,0.627243,0.54338,0.401208,0.459939,1.5516,0.348156,0.533822,0.862719,0.232344,0.398723,0.629001,0.345658,0.233168,0.0979726,0.589402,0.0448649,0.212022,0.188097,0.842212,0.283711,0.375375,0.265882,0.414206,0.174126,1.48372,0.120382,0.0517606,0.732998,0.623044,0.171504,0.204964,0.970181,0.158939,0.280603,0.645842,0.651474,0.314945,0.483111,0.352347,0.533716,0.324977,0.411712,1.23566,0.621954,0.567737,0.52237,0.213326,0.6236,0.878504,0.415791,0.226481,0.163534,0.288129,0.367213,0.495761,0.461594,0.320284,0.474472,0.824233,0.301109,0.171245,0.454939,0.780015,0.173115,0.112812,0.57079,0.863892,0.152491,0.67433,0.146725,0.425068,0.753286,0.701187,0.652897,0.20614,0.938791,0.785304,0.391186,0.691416,0.0775447,0.75164,0.21252,0.385442,1.17697,0.405149,0.499114,0.316643,0.104385,0.759303,0.921897,0.41905,0.345874,0.395361,0.195515,1.30351,0.561615,0.51368,0.162045,0.672649,0.730573,0.357998,0.86662,0.698323,0.515322,0.512969,0.155562,1.03324,0.428356,0.303621,0.314244,0.847336,1.13453,0.524243,0.661273,0.532754,0.387772,0.309406,0.0364137,0.325059,0.221144,0.558075,0.375339,0.844212,0.172923,0.175231,0.00705827,0.262568,0.91773,0.577668,1.91079,0.754187,0.211665,0.216126,0.557213,0.568974,0.816663,0.277389,0.879266,0.360908,0.720868,0.368716,0.338598,0.301217,0.810266,0.211413,0.117395,0.194088,0.971383,0.346899,1.11099,0.508807,1.29897,0.606092,1.40942,0.300746,0.249514,0.200482,0.225417,0.725145,0.153149,0.645603,0.549191,0.423119,0.275923,0.637473,0.335921,0.244353,0.332421,0.0445705,0.374115,0.397714,0.435156,0.791608,0.390117,0.53533,0.437122,0.542958,0.554118,0.734614,0.0624392,0.136281,0.346922,0.0569791,0.28802,0.775737,0.159651,0.590867,0.195308,0.83014,0.271159,0.0399276,0.10834,0.556963,0.383399,0.361544,0.20848,0.222759,0.338552,0.190964,0.791797,3.09083,0.801541,0.33969,1.3394,0.79311,0.215245,0.438356,0.642349,0.315282,0.680055,0.206328,0.588525,0.158553,0.521034,0.460206,0.401318,0.536931,0.591143,0.887345,0.107593,1.10089,0.463531,0.0696922,0.570949,0.156407,0.512291,0.795472,1.45038,0.769636,0.173793,0.375768,0.364323,0.595433,1.16642,0.381598,0.68726,0.651849,0.590298,0.617126,0.425111,0.149676,0.133655,0.604866,0.785298,0.931127,0.233204,0.614171,0.792684,0.609182,0.271546,0.846368,0.225693,0.334168,0.361879,0.513024,0.389088,0.66655,0.222599,0.416582,0.443567,0.377709,0.10507,0.166369,0.230002,0.307805,0.0471992,0.404043,0.157601,0.317051,0.416071,0.178062,0.173643,0.788928,0.497555,0.669388,0.537197,0.692867,0.176209,0.295489,0.472276,0.571059,0.56502,0.184595,0.680366,0.3637,0.596286,0.253362,0.768509,0.764744,0.923508,1.1702,0.294433,0.343257,0.369571,0.197062,0.551789,0.141967,0.969645,0.919341,0.231314,0.170224,0.260081,0.318283,1.10973,0.193276,0.110983,0.187576,1.38311,1.0183,0.118715,0.0479174,1.11086,0.499666,0.723076,0.814884,0.230872,0.318541,0.480326,0.631337,0.0581673,0.183291,0.335546,0.0140679,0.214341,0.130323,1.21291,0.74874,0.265404,1.11692,0.484354,0.221295,0.325129,0.380263,0.0828302,0.389182,0.407975,0.00682483,0.0934595,0.834495,0.348981,0.167348,0.685247,0.285146,0.922403,0.112833,0.775822,0.683696,0.638376,0.297402,0.0927086,0.394331,1.3046,1.07117,0.408511,1.07009,0.396645,0.214177,0.658261,0.724857,1.11114,0.395216,0.416927,0.529655,0.594396,0.960777,0.935861,0.48242,0.872485,0.205138,0.159994,0.206147,0.890503,0.404824,0.112475,0.609035,0.203801,0.194014,0.574308,0.425262,0.364992,0.495876,0.560844,0.1113,0.0488129,0.578042,0.376497,0.715721,0.0092868,0.103541,0.3979,0.0762307,0.430168,0.634962,0.741136,0.543519,0.738539,0.825576,1.16569,0.825351,1.31302,0.784578,0.776544,1.34992,1.05322,0.399152,0.534259,0.21573,0.671179,0.209918,0.312677,0.0501984,0.924043,0.411522,0.633725,0.20898,0.407477,0.137138,0.109565,0.121591,0.15777,0.525255,0.443278,0.398356,0.222429,0.443594,0.997188,1.16698,0.241277,0.577667,0.777757,0.469884,0.66626,0.427431,0.212685,0.191035,0.335991,0.667516,0.276856,0.284244,0.637794,0.902142,0.84654,0.962817,0.769382,0.87617,0.114189,0.720049,0.385234,0.147473,0.0942325,0.580053,1.10414,0.48339,0.815456,0.496363,0.0397801,0.950854,0.143538,0.617259,0.396049,0.639378,0.729439,0.380002,0.675376,0.276063,0.735892,0.312973,0.209429,0.120625,0.571608,0.577747,0.707174,0.309658,0.203315,0.861439,1.24298,0.404126,1.0863,0.511339,0.853771,0.872043,0.885136,0.377748,0.213009,0.467772,0.173828,0.232512,0.495626,0.279134,0.196197,0.942698,0.892143,0.279585,1.78506,0.436682,1.10399,0.163058,0.325029,0.0249359,0.204532,0.144699,0.849998,0.513753,0.451869,0.395884,0.992955,0.599949,0.0574336,0.308571,0.400452,0.320608,0.643198,0.41411,0.796704,0.803489,0.134613,0.746744,0.417824,0.765325,0.107514,0.0115588,0.612823,0.173192,0.210185,0.571702,0.603014,0.918411,0.736895,0.353044,0.250079,1.02314,0.171707,1.30955,0.306951,0.703488,1.36907,0.791261,0.740484,0.22588,0.251923,0.0670142,0.0247486,0.0798657,0.0205281,0.876951,0.401918,0.0873651,0.418351,0.336067,1.44541,0.474504,0.802989,0.619528,0.205423,0.565271,0.779323,0.840795,0.14478,0.226119,0.935887,0.150443,0.619932,0.583009,0.414107,0.135288,0.254396,0.51307,0.379445,0.175355,1.12354,0.249844,0.657894,0.464802,0.558725,0.681548,0.0866685,0.272402,0.547769,0.277497,0.866131,0.9999,0.40185,0.219285,0.227962,0.727408,0.81614,0.367483,0.665875,0.14254,0.292157,0.579511,0.35783,0.929393,0.164232,0.505469,0.0882146,0.64915,0.241278,0.577662,0.272186,0.293349,1.04279,0.47801,0.239779,0.716791,0.176085,0.529193,0.0328117,1.27862,0.902012,0.216614,0.0641363,0.422238,0.214727,0.223386,0.665917,0.582064,0.276419,0.137587,0.277262,0.109742,0.560927,0.452268,1.36051,0.54142,1.43531,0.217036,0.630496,0.201184,0.86235,0.810546,0.358739,0.572318,0.125414,0.191711,0.300181,0.0683179,0.64149,0.774342,0.264344,0.645893,0.222773,1.4202,0.0223634,0.896823,0.0562523,0.617917,0.204213,0.162194,0.842934,0.0472257,0.263585,0.121406,0.535375,0.256269,0.359984,0.343422,0.0429496,0.302071,0.593402,0.145009,0.462523,0.237069,0.733242,0.821711,1.11867,0.756919,0.521517,0.540682,0.351996,0.122924,0.502025,0.4329,0.898648,0.804293,0.696778,0.435205,0.414555,0.517412,0.72671,0.0182712,0.853466,0.180097,0.492322,0.663173,0.662617,0.966584,0.581052,0.27312,0.210076,0.245071,0.632191,0.0139253,0.635812,0.0914941,0.283527,0.553244,0.690744,0.353932,0.677367,0.307527,0.302374,0.339716,0.430836,1.35573,0.306786,1.20973,0.949438,0.59139,0.439097,0.98517,0.0989942,0.846617,0.821305,0.547692,0.316734,1.05956,0.617393,0.84376,0.0960853,0.164616,1.09467,0.947142,0.598318,0.0463946,0.726177,0.768136,0.684302,0.731925,0.617062,0.384588,0.746838,0.9228,0.333343,1.02418,0.355329,1.12342,0.309765,0.222158,0.119111,1.08557,0.266696,0.641301,0.747556,0.483714,0.246695,0.675768,0.546734,0.607416,0.0352305,1.27785,0.208567,0.434415,1.78143,1.1321,0.431287,0.872109,0.28713,0.424193,0.486016,0.318894,0.793237,0.244692,0.181159,0.786119,0.193043,0.713714,0.672897,0.50386,0.0489957,0.174335,0.1564,1.82397,1.31911,0.925359,0.33825,1.19443,0.1921,0.21953,0.781649,0.374225,0.458984,0.71335,0.499461,0.0823837,0.431098,0.160036,0.0885457,0.425175,0.598871,0.7895,0.945836,0.653979,0.69969,0.351783,0.0512399,0.154426,1.36875,0.489219,1.0632,0.0932639,0.295326,0.885711,0.114411,0.833774,0.469481,0.0670619,0.727001,0.514926,0.3039,0.982237,1.33343,0.328831,0.00287636,0.276128,0.166688,0.402532,0.262196,0.593107,0.215893,0.649723,1.04657,0.441367,0.419546,0.0782544,1.15527,0.151196,0.663206,1.1028,0.302483,0.601581,0.371716,0.314238,0.312259,0.696962,0.23651,0.606442,0.446642,0.309063,0.00986342,1.58085,0.812595,0.647388,0.498193,1.23352,1.0226,0.630001,0.0903024,0.760017,0.316931,0.137812,0.309458,0.436284,0.299001,0.0179809,0.511186,0.469236,0.353694,0.350966,0.957428,0.808974,0.379266,0.638531,0.163985,0.421854,0.189808,0.406078,0.341213,0.157097,0.317163,0.438995,0.924209,0.653187,0.228276,0.472083,1.04162,0.182146,0.775231,0.364,0.76653,0.15994,0.201025,1.18425,0.410469,0.451256,0.933402,0.468068,0.269433,0.399526,0.124884,0.189671,0.08869,0.397939,0.269455,0.356467,0.337257,0.267537,1.15037,0.253487,0.292153,1.09709,0.683887,0.152457,0.250234,1.27609,0.3558,0.401252,0.0262818,0.124288,1.72158,0.459611,1.26564,0.526608,1.40562,0.497568,0.433639,0.217653,0.109831,0.0363418,0.682718,1.12258,0.141969,0.572728,0.261037,0.451546,1.16829,0.435102,0.549032,0.380092,0.293352,0.851876,0.393167,0.113198,0.421315,0.193144,1.32955,0.367201,0.200622,0.120304,0.198717,0.614736,1.06097,0.594956,1.00599,0.385497,1.09226,0.229307,0.310473,0.612876,0.908611,0.464859,0.285322,0.348243,0.372972,0.287499,0.688187,1.23598,0.590612,0.90624,0.310462,0.46162,0.18178,0.208977,0.518651,0.777992,0.660944,0.292429,0.289163,0.681826,1.10032,0.555057,1.29011,0.215496,0.517152,0.168551,0.929479,0.196697,0.0223999,0.679775,0.115272,0.84608,1.07335,0.992298,0.372355,0.00112028,0.44363,0.0638048,0.622455,0.433277,0.0628666,0.108841,0.727848,0.254365,0.303229,0.0928706,0.236981,0.869728,0.497178,1.06801,0.19222,1.13572,0.569153,0.154566,0.698258,0.802175,0.244508,0.101501,1.1002,1.15461,0.912514,0.214455,1.58496,0.815417,0.394725,0.478612,0.474041,0.239148,0.355581,0.226489,0.108456,0.451116,0.217258,0.106601,0.256739,0.914117,0.363613,0.132142,0.253595,1.15467,1.1424,0.832101,0.915028,0.562896,1.00374,0.274188,0.514075,1.04132,1.03557,0.486559,0.677359,0.65524,0.176872,0.367916,0.321829,0.557625,0.22498,0.972925,0.228881,0.250993,0.166217,1.90286,1.06704,0.413774,0.639418,0.198437,0.680393,0.331881,0.552431,0.206473,0.383637,0.164185,0.384895,1.55889,0.409233,1.03221,0.0890708,0.504343,0.0639929,0.756593,0.711849,0.889724,0.627173,1.02395,1.2404,0.197325,0.415487,0.890061,0.452765,0.133121,0.731289,0.0628657,0.518501,1.06965,0.307041,0.389364,0.74595,0.369694,0.0643611,0.165576,0.199111,0.147399,0.846477,0.552234,0.333736,0.270662,0.5447,1.1226,0.580151,0.854594,0.201809,0.3844,0.928198,0.401638,0.260631,0.295596,0.338648,0.298652,0.40182,0.286004,0.241338,0.871817,2.12043,0.186337,0.0878479,0.596587,0.0,0.258481,0.350817,0.701319,0.245849,0.712111,0.442445,0.181474,0.244142,0.209568,0.416922,0.476645,0.510466,1.32353,0.249282,0.075717,1.67645,1.73046,0.274567,0.965793,0.391304,0.870881,0.289096,0.652968,0.202417,0.185693,0.0123183,0.388002,0.365737,1.24179,0.285078,0.683709,0.304854,0.622148,1.40795,0.654928,0.60625,1.12083,0.25505,0.626219,0.45247,1.28368,0.650632,1.03837,0.3484,1.39419,0.0905141,0.344781,0.232703,0.842464,0.962487,0.794441,0.516425,0.50062,0.918481,0.488225,1.32116,0.712776,0.475412,0.347022,0.286246,0.0270533,0.129271,0.815602,1.48789,1.1119,0.39536,0.19007,0.911538,0.235107,0.0490257,0.852251,0.618148,0.626112,0.0,1.30796,0.912442,1.38743,0.319337,0.357099,0.707895,0.655784,0.686916,0.738516,0.220117,0.179422,0.555524,1.00372,0.846899,0.643734,0.774199,0.725385,1.63198,1.93661,0.743559,0.457747,0.261829,0.136363,0.783118,1.71629,0.332541,0.180968,0.782503,1.25217,0.652609,0.346295,0.432096,0.647525,0.851683,0.641179,1.14539,0.847735,0.830803,0.655056,0.262881,0.733432,0.215973,0.933055,0.49698,1.67645,1.35055,1.41391,0.376612,0.27183,0.935453,0.404291,0.225865,0.458846,0.157703,1.41876,0.789361,0.992036,0.572882,0.416448,1.2419,0.320808,0.615795,0.834235,0.515552,0.0962718,0.510515";
    double[] vec1= Lists.newArrayList(comparedVecStr.split(",")).parallelStream().mapToDouble(va -> Double.parseDouble(va)).toArray();
    double[] vec2= Lists.newArrayList(vec2Str.split(",")).parallelStream().mapToDouble(
        va -> Double.parseDouble(va)).toArray();

    DistanceMeasure distanceMeasure=DistanceMeasureFactory.createDistanceMeasure("chi2");

    double distance=distanceMeasure.compute(vec1,vec2);
    System.out.print(distance);
  }
}
